# ===== AWS 운영 환경 설정 템플릿 =====
# 이 파일을 복사하여 .env.prod로 이름을 변경하고 실제 값으로 변경하세요
# ⚠️ 운영 환경에서는 반드시 AWS Secrets Manager를 사용하세요!

# 환경 구분
APP_ENV=production
DOCKER_TARGET=production
NODE_ENV=production

# 프로젝트 설정
COMPOSE_PROJECT_NAME=

# 포트 설정 (AWS ECS/App Runner)
BACKEND_PORT=8000
FRONTEND_PORT=3000
DB_PORT=5432

# Frontend 설정 (운영 도메인)
# 프로덕션 도메인 설정 (예: deepsentinel.cloud)
PRODUCTION_DOMAIN=YOUR_DOMAIN
NEXT_PUBLIC_API_URL=https://api.your-production-domain.com
NEXT_PUBLIC_PRODUCTION_API_URL=https://api.your-production-domain.com

# 데이터베이스 (AWS RDS 운영용)
POSTGRES_DB=YOUR_DB_NAME
POSTGRES_USER=YOUR_DB_USER
POSTGRES_PASSWORD=YOUR_DB_PASSWORD

# JWT 설정 (운영용 - 반드시 AWS Secrets Manager에서 관리)
SECRET_KEY=YOUR_PROD_SECRET_KEY_FROM_SECRETS_MANAGER
DEBUG=false
ALLOWED_HOSTS=your-production-api-domain.com,your-production-domain.com

# 데이터베이스 설정 (Django)
DB_ENGINE=django.db.backends.postgresql
DB_NAME=YOUR_DB_NAME
DB_USER=YOUR_DB_USER
DB_PASSWORD=YOUR_PROD_DB_PASSWORD_FROM_SECRETS_MANAGER
DB_HOST=your-prod-rds-endpoint.amazonaws.com
DB_PORT=5432

# AWS 설정 (운영 계정)
USE_LOCALSTACK=false
AWS_DEFAULT_REGION=YOUR_REGION
AWS_ACCOUNT_ID=YOUR_AWS_PROD_ACCOUNT_ID

# S3 설정 (AWS 운영)
AWS_S3_BUCKET_NAME=capstone-production-video-bucket
AWS_S3_REGION=YOUR_REGION
AWS_CLOUDFRONT_DOMAIN=

# S3 업로드 설정
AWS_S3_PRESIGNED_URL_EXPIRE=900  # 15분 (초 단위)
AWS_S3_DOWNLOAD_URL_EXPIRE=3600  # 1시간 (초 단위)

# SQS 설정 (AWS 운영)
AWS_SQS_QUEUE_URL=https://sqs.ap-northeast-2.amazonaws.com/YOUR_AWS_PROD_ACCOUNT_ID/video-processing-prod-queue
AWS_SQS_QUEUE_NAME=YOUR_QUEUE_NAME
AWS_SQS_VISIBILITY_TIMEOUT=300  # 5분
AWS_SQS_MESSAGE_RETENTION_PERIOD=1209600  # 14일

# JWT 설정 (비디오 업로드용)
JWT_UPLOAD_TOKEN_EXPIRE=3600  # 1시간 (초 단위)
JWT_USER_TOKEN_EXPIRE=604800  # 7일 (초 단위)

# ECR 설정 (운영)
ECR_REGISTRY_URL={YOUR_AWS_PROD_ACCOUNT_ID}.dkr.ecr.{YOUR_REGION}.amazonaws.com
ECR_REPOSITORY_BACKEND=YOUR_BACK_REPO
ECR_REPOSITORY_FRONTEND=YOUR_FRONT_REPO

# Secrets Manager
AWS_SECRET_NAME=YOUR_SECRET

# 보안 설정 (운영 환경)
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
USE_HTTPS=true

# 클라우드 서비스 활성화
USE_CLOUD_SERVICES=true

# AI 서비스 (ECS 운영)
AI_VIDEO_ANALYSIS_URL=https://your-production-api-domain.com
AI_LANGGRAPH_URL=https://your-production-langgraph-domain.com
AI_VIDEO_SUMMARY_URL=https://your-production-summary-domain.com

# 보안 설정
ENABLE_SSL=true
FORCE_HTTPS=true
SENTRY_ENABLED=true
SENTRY_DSN=YOUR_SENTRY_DSN_FROM_SECRETS_MANAGER

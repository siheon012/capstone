# 프로덕션 환경 설정 템플릿 (AWS Fargate)
# =================================
# ⚠️ 이 파일은 예제입니다. 실제 값은 .env.prod에 설정하세요.
# ⚠️ .env.prod 파일은 절대 GitHub에 커밋하지 마세요.
# =================================

# Node.js 환경
NODE_ENV=production

# ===========================================
# AWS Fargate 배포 환경 변수
# ===========================================

# === API 엔드포인트 ===
# Path-based routing: 같은 도메인, 경로로 구분
# Frontend: https://yourdomain.com
# Backend: https://yourdomain.com/api/*, /db/*, /admin/*
NEXT_PUBLIC_API_URL=
# 상대 경로 사용 (비워두면 Same-Origin)

# === AWS 서비스 설정 ===
# Fargate 사용으로 변경
AWS_DEPLOYMENT_TYPE=fargate
AWS_ECS_CLUSTER=your-cluster-name
AWS_ECS_SERVICE_FRONTEND=your-frontend-service
AWS_ECS_SERVICE_BACKEND=your-backend-service

# =================================
# AWS S3 스토리지 설정
# =================================

# S3 사용 설정
USE_S3=true
AWS_REGION=your-region
AWS_S3_BUCKET=your-bucket-name
NEXT_PUBLIC_S3_BUCKET=your-bucket-name
NEXT_PUBLIC_S3_REGION=your-region

# =================================
# 클라우드 네이티브 API 엔드포인트
# Path-based routing: 상대 경로 사용
# =================================

# 벡터 검색 API
NEXT_PUBLIC_VECTOR_SEARCH_URL=/api/video-analysis/vector-search/

# 티어 관리 API  
NEXT_PUBLIC_TIER_MANAGEMENT_URL=/api/tier-management/

# AWS Batch 분석 작업 API
NEXT_PUBLIC_ANALYSIS_JOBS_URL=/api/analysis-jobs/

# 비디오 분석 API
NEXT_PUBLIC_VIDEO_ANALYSIS_URL=/api/video-analysis/

# =================================
# 클라우드 기능 활성화
# =================================

# 실시간 기능
NEXT_PUBLIC_ENABLE_REALTIME_SEARCH=true
NEXT_PUBLIC_ENABLE_AUTO_TIER_MANAGEMENT=true
NEXT_PUBLIC_ENABLE_AWS_BATCH_ANALYSIS=true
NEXT_PUBLIC_ENABLE_VECTOR_SEARCH=true

# =================================
# UI/UX 설정 (프로덕션 최적화)
# =================================

# 검색 관련 설정
NEXT_PUBLIC_SEARCH_DEBOUNCE_MS=500
NEXT_PUBLIC_SEARCH_MIN_QUERY_LENGTH=3
NEXT_PUBLIC_SEARCH_MAX_RESULTS=100

# 파일 업로드 설정
NEXT_PUBLIC_MAX_FILE_SIZE_GB=10
NEXT_PUBLIC_SUPPORTED_VIDEO_TYPES="video/mp4,video/avi,video/mov,video/wmv,video/mkv"

# 데이터 티어 표시
NEXT_PUBLIC_SHOW_TIER_INFO=true
NEXT_PUBLIC_SHOW_SEARCH_STATS=true
NEXT_PUBLIC_SHOW_S3_URLS=true

# =================================
# 성능 최적화 설정 (프로덕션)
# =================================

# 캐시 설정 (더 긴 캐시 시간)
NEXT_PUBLIC_CACHE_VIDEO_LIST_MINUTES=10
NEXT_PUBLIC_CACHE_SEARCH_RESULTS_MINUTES=5
NEXT_PUBLIC_CACHE_THUMBNAILS_HOURS=168  # 1주일

# 페이지네이션 (더 많은 아이템)
NEXT_PUBLIC_VIDEOS_PER_PAGE=50
NEXT_PUBLIC_EVENTS_PER_PAGE=200
NEXT_PUBLIC_SESSIONS_PER_PAGE=100

# =================================
# 모니터링 및 로깅 (프로덕션)
# =================================

# 로깅 레벨 (에러만)
NEXT_PUBLIC_LOG_LEVEL=error
NEXT_PUBLIC_ENABLE_DEBUG_PANEL=false

# API 호출 로깅 (최소화)
NEXT_PUBLIC_LOG_API_CALLS=false
NEXT_PUBLIC_LOG_SEARCH_QUERIES=false

# 에러 트래킹 (필요시 활성화)
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn
# NEXT_PUBLIC_ENABLE_ANALYTICS=true

# =================================
# 보안 설정
# =================================

# HTTPS 강제
NEXT_PUBLIC_FORCE_HTTPS=true

# API 요청 타임아웃 (초)
NEXT_PUBLIC_API_TIMEOUT_SECONDS=30

# 재시도 설정
NEXT_PUBLIC_API_RETRY_COUNT=3
NEXT_PUBLIC_API_RETRY_DELAY_MS=1000
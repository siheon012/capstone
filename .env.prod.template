# ===== AWS 운영 환경 설정 템플릿 =====
# 이 파일을 복사하여 .env.prod로 이름을 변경하고 실제 값으로 변경하세요
# ⚠️ 운영 환경에서는 반드시 AWS Secrets Manager를 사용하세요!

# 환경 구분
APP_ENV=production
DOCKER_TARGET=production
NODE_ENV=production

# 프로젝트 설정
COMPOSE_PROJECT_NAME=capstone-prod

# 포트 설정 (AWS ECS/App Runner)
BACKEND_PORT=8000
FRONTEND_PORT=3000
DB_PORT=5432

# Frontend 설정 (운영 도메인)
NEXT_PUBLIC_API_URL=https://your-production-api-domain.com

# 데이터베이스 (AWS RDS 운영용)
POSTGRES_DB=capstone_production
POSTGRES_USER=your_prod_db_user
POSTGRES_PASSWORD=YOUR_PROD_DB_PASSWORD_FROM_SECRETS_MANAGER

# JWT 설정 (운영용 - 반드시 AWS Secrets Manager에서 관리)
SECRET_KEY=YOUR_PROD_SECRET_KEY_FROM_SECRETS_MANAGER
DEBUG=false
ALLOWED_HOSTS=your-production-api-domain.com,your-production-domain.com

# 데이터베이스 설정 (Django)
DB_ENGINE=django.db.backends.postgresql
DB_NAME=capstone_production
DB_USER=your_prod_db_user
DB_PASSWORD=YOUR_PROD_DB_PASSWORD_FROM_SECRETS_MANAGER
DB_HOST=your-prod-rds-endpoint.amazonaws.com
DB_PORT=5432

# AWS 설정 (운영 계정)
USE_LOCALSTACK=false
AWS_DEFAULT_REGION=us-east-1
AWS_ACCOUNT_ID=YOUR_AWS_PROD_ACCOUNT_ID

# S3 설정 (AWS 운영)
AWS_S3_BUCKET_NAME=your-production-video-bucket-name
AWS_S3_REGION=us-east-1
AWS_CLOUDFRONT_DOMAIN=your-cdn-domain.com

# S3 업로드 설정
AWS_S3_PRESIGNED_URL_EXPIRE=900  # 15분 (초 단위)
AWS_S3_DOWNLOAD_URL_EXPIRE=3600  # 1시간 (초 단위)

# JWT 설정 (비디오 업로드용)
JWT_UPLOAD_TOKEN_EXPIRE=3600  # 1시간 (초 단위)
JWT_USER_TOKEN_EXPIRE=604800  # 7일 (초 단위)

# SQS 설정 (AWS 운영)
AWS_SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/YOUR_AWS_PROD_ACCOUNT_ID/your-prod-queue-name

# ECR 설정 (운영)
ECR_REGISTRY_URL=YOUR_AWS_PROD_ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com
ECR_REPOSITORY_BACKEND=capstone-prod-backend
ECR_REPOSITORY_FRONTEND=capstone-prod-frontend

# Secrets Manager
AWS_SECRET_NAME=capstone-production-secrets

# 보안 설정 (운영 환경)
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
USE_HTTPS=true

# 클라우드 서비스 활성화
USE_CLOUD_SERVICES=true

# AI 서비스 (ECS 운영)
AI_VIDEO_ANALYSIS_URL=https://your-production-api-domain.com
AI_LANGGRAPH_URL=https://your-production-langgraph-domain.com
AI_VIDEO_SUMMARY_URL=https://your-production-summary-domain.com

# 보안 설정
ENABLE_SSL=true
FORCE_HTTPS=true
SENTRY_ENABLED=true
SENTRY_DSN=YOUR_SENTRY_DSN_FROM_SECRETS_MANAGER

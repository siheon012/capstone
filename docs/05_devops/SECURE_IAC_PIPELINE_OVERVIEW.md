# ğŸ”’ Secure IaC Pipeline êµ¬ì¶• ê°œìš”

**ì‘ì—… ì¼ì**: 2026ë…„ 2ì›” 6ì¼  
**ì‘ì—…ì**: DeepSentinel Team  
**ë¸Œëœì¹˜**: `feat/secure-iac-pipeline`

> **ìƒì„¸ ë¬¸ì„œ**
>
> - [Policy as Code ìƒì„¸ êµ¬í˜„](./POLICY_AS_CODE_DETAILS.md)
> - [Terratest ì¸í”„ë¼ í…ŒìŠ¤íŒ… ìƒì„¸](./TERRATEST_DETAILS.md)
> - [íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ](./TROUBLESHOOTING_GUIDE.md)

---

## ğŸ“‹ ëª©ì°¨

- [ë°°ê²½ ë° ëª©í‘œ](#ë°°ê²½-ë°-ëª©í‘œ)
- [ì£¼ìš” êµ¬í˜„ ë‚´ìš©](#ì£¼ìš”-êµ¬í˜„-ë‚´ìš©)
- [ì›Œí¬í”Œë¡œìš° ì•„í‚¤í…ì²˜](#ì›Œí¬í”Œë¡œìš°-ì•„í‚¤í…ì²˜)
- [ì‹¤í–‰ ê²°ê³¼](#ì‹¤í–‰-ê²°ê³¼)
- [ë¹„ìš© ìµœì í™”](#ë¹„ìš©-ìµœì í™”)
- [ì„±ê³¼ ë° ê²°ë¡ ](#ì„±ê³¼-ë°-ê²°ë¡ )

---

## ë°°ê²½ ë° ëª©í‘œ

### ğŸš¨ ë¬¸ì œ ì •ì˜

ê¸°ì¡´ Terraform CI/CD íŒŒì´í”„ë¼ì¸ì€ ê¸°ë³¸ì ì¸ `terraform validate`ì™€ `terraform plan` ê²€ì¦ë§Œ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë³´ì•ˆ ë° í’ˆì§ˆ ë¬¸ì œë¥¼ ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤:

#### 1. ë³´ì•ˆ ì •ì±… ê²€ì¦ ë¶€ì¬

```
ë¬¸ì œ: S3 ë²„í‚·ì´ publicìœ¼ë¡œ ë…¸ì¶œë˜ëŠ”ì§€, IAM ê¶Œí•œì´ ê³¼ë„í•œì§€ ì½”ë“œ ë¦¬ë·°ë§Œìœ¼ë¡œ í™•ì¸ ë¶ˆê°€ëŠ¥
ê²°ê³¼: ë³´ì•ˆ ì·¨ì•½ì ì´ í”„ë¡œë•ì…˜ í™˜ê²½ì— ë°°í¬ëœ í›„ì—ì•¼ ë°œê²¬ë¨
```

#### 2. ì¸í”„ë¼ ì½”ë“œ í’ˆì§ˆ ë³´ì¥ ë¶€ì¬

```
ë¬¸ì œ: Terraform ëª¨ë“ˆì´ ì‹¤ì œë¡œ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ì˜¬ë°”ë¥´ê²Œ ìƒì„±í•˜ëŠ”ì§€ ê²€ì¦ ì—†ìŒ
ê²°ê³¼: ë°°í¬ í›„ ë¦¬ì†ŒìŠ¤ ìƒì„± ì‹¤íŒ¨ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ìœ¼ë¡œ ì¸í•œ ì¥ì•  ë°œìƒ
```

#### 3. ì»´í”Œë¼ì´ì–¸ìŠ¤ ìš”êµ¬ì‚¬í•­ ë¯¸ì¶©ì¡±

```
ë¬¸ì œ: CIS Benchmark, GDPR, HIPAA ë“±ì˜ ê·œì • ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ ìˆ˜ë™ìœ¼ë¡œ í™•ì¸
ê²°ê³¼: ê°ì‚¬(Audit) ì‹œ ê·œì • ìœ„ë°˜ ì‚¬í•­ ë°œê²¬, ì¬ì‘ì—… ë¹„ìš© ì¦ê°€
```

### ğŸ¯ ëª©í‘œ

1. **Shift-Left Security**: ì½”ë“œ ì‘ì„± ë‹¨ê³„ì—ì„œë¶€í„° ë³´ì•ˆ ì •ì±… ìë™ ê²€ì¦
2. **Infrastructure Testing**: Terraform ëª¨ë“ˆì˜ ì‹¤ì œ ë™ì‘ ê²€ì¦ (Unit/Integration Test)
3. **ì»´í”Œë¼ì´ì–¸ìŠ¤ ìë™í™”**: í´ë¼ìš°ë“œ ë³´ì•ˆ í‘œì¤€(CIS, AWS Well-Architected) ìë™ ê²€ì‚¬
4. **ë¹„ìš© íš¨ìœ¨ì„±**: ë¬´ë£Œ ê²€ì¦(Validation)ê³¼ ìœ ë£Œ í…ŒìŠ¤íŠ¸(Unit/Integration) ë¶„ë¦¬
5. **ì¬í˜„ ê°€ëŠ¥í•œ ì¸í”„ë¼**: Packerë¥¼ í†µí•œ ë¶ˆë³€ ì¸í”„ë¼(Immutable Infrastructure) êµ¬í˜„

---

## ì£¼ìš” êµ¬í˜„ ë‚´ìš©

### 1. ğŸ›¡ï¸ Policy as Code - ë‹¤ì¸µ ë³´ì•ˆ ê²€ì¦

**Checkov**, **tfsec**, **Trivy** ì„¸ ê°€ì§€ ë„êµ¬ë¥¼ ì¡°í•©í•˜ì—¬ Terraform ì½”ë“œì˜ ë³´ì•ˆ ì·¨ì•½ì ì„ ë‹¤ê°ë„ë¡œ ê²€ì¦í•©ë‹ˆë‹¤.

| ë„êµ¬        | ì£¼ìš” ê¸°ëŠ¥                 | ê²€ì¦ ë²”ìœ„              | ì¶œë ¥ í˜•ì‹    |
| ----------- | ------------------------- | ---------------------- | ------------ |
| **Checkov** | 800+ ì •ì±… ê²€ì‚¬            | AWS, Azure, GCP ë“±     | JSON, SARIF  |
| **tfsec**   | Terraform íŠ¹í™” ë³´ì•ˆ ìŠ¤ìº”  | AWS ë³´ì•ˆ ê·¸ë£¹, S3, IAM | SARIF, JSON  |
| **Trivy**   | ì„¤ì • íŒŒì¼ + ì»¨í…Œì´ë„ˆ ìŠ¤ìº” | IaC + Docker ì´ë¯¸ì§€    | Table, SARIF |

**ì£¼ìš” ê²€ì¦ í•­ëª©:**

- âŒ S3 ë²„í‚· Public Access í—ˆìš©
- âŒ RDS ì¸ìŠ¤í„´ìŠ¤ ì•”í˜¸í™” ë¯¸ì ìš©
- âŒ Security Groupì—ì„œ 0.0.0.0/0 ì¸ë°”ìš´ë“œ í—ˆìš©
- âŒ IAM ì •ì±…ì—ì„œ `*` ê¶Œí•œ ì‚¬ìš©
- âŒ CloudTrail ë¡œê¹… ë¹„í™œì„±í™”

**Quality Gate**: CRITICAL ë˜ëŠ” HIGH ë“±ê¸‰ ì·¨ì•½ì  ë°œê²¬ ì‹œ PR ë³‘í•© ì°¨ë‹¨

ğŸ‘‰ [Policy as Code ìƒì„¸ êµ¬í˜„ ë¬¸ì„œ ë³´ê¸°](./POLICY_AS_CODE_DETAILS.md)

---

### 2. ğŸ§ª Infrastructure Testing - Terratest

**Terratest**(Go ê¸°ë°˜)ë¥¼ ì‚¬ìš©í•˜ì—¬ Terraform ëª¨ë“ˆì´ ì‹¤ì œ AWS í™˜ê²½ì—ì„œ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.

#### 3-Tier Testing Strategy

| ë ˆë²¨       | í…ŒìŠ¤íŠ¸ ìœ í˜• | ë¦¬ì†ŒìŠ¤ ìƒì„±    | ë¹„ìš©   | ì‹¤í–‰ ì¡°ê±´ |
| ---------- | ----------- | -------------- | ------ | --------- |
| **Tier 1** | Validation  | âŒ ì—†ìŒ        | $0     | ëª¨ë“  PR   |
| **Tier 2** | Unit Test   | âœ… ëª¨ë“ˆë³„ ìƒì„± | ~$0.50 | ìˆ˜ë™ ì‹¤í–‰ |
| **Tier 3** | Integration | âœ… ì „ì²´ ìŠ¤íƒ   | ~$1-2  | ìˆ˜ë™ ì‹¤í–‰ |

**Validation í…ŒìŠ¤íŠ¸ (ë¬´ë£Œ, ìë™ ì‹¤í–‰):**

- `terraform fmt` ê²€ì‚¬
- `terraform validate` ë¬¸ë²• ê²€ì¦
- `terraform plan` ì‹¤í–‰ ì„±ê³µ ì—¬ë¶€

**Unit í…ŒìŠ¤íŠ¸ (ìœ ë£Œ, ìˆ˜ë™ ì‹¤í–‰):**

- Network ëª¨ë“ˆ: VPC, Subnet ì‹¤ì œ ìƒì„± ë° ê²€ì¦
- Storage ëª¨ë“ˆ: S3 ë²„í‚· ìƒì„± ë° ì„¤ì • í™•ì¸
- Security ëª¨ë“ˆ: IAM Role ìƒì„± ë° ì •ì±… ê²€ì¦

**Integration í…ŒìŠ¤íŠ¸ (ì „ì²´ ìŠ¤íƒ):**

- ì „ì²´ ì¸í”„ë¼ ë°°í¬ ë° í†µí•© ê²€ì¦
- Idempotency í…ŒìŠ¤íŠ¸ (ì¬ì‹¤í–‰ ì‹œ ë³€ê²½ì‚¬í•­ ì—†ìŒ)

ğŸ‘‰ [Terratest ìƒì„¸ êµ¬í˜„ ë¬¸ì„œ ë³´ê¸°](./TERRATEST_DETAILS.md)

---

### 3. ğŸ—ï¸ Packer AMI ë¹Œë“œ ìë™í™”

**HashiCorp Packer**ë¥¼ ì‚¬ìš©í•˜ì—¬ GPU ì›Œí¬ë¡œë“œìš© ì»¤ìŠ¤í…€ AMIë¥¼ ìë™ ë¹Œë“œí•©ë‹ˆë‹¤.

#### ëª©ì 

| ë¬¸ì œ                                                   | í•´ê²° ë°©ë²•                                 | íš¨ê³¼                   |
| ------------------------------------------------------ | ----------------------------------------- | ---------------------- |
| Batch Job ì‹œì‘ ì‹œ ë§¤ë²ˆ Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (5-10ë¶„) | AMIì— Docker ì´ë¯¸ì§€ ì‚¬ì „ ë¡œë“œ             | ì‹œì‘ ì‹œê°„ **80% ë‹¨ì¶•** |
| Terratest Integration Testì—ì„œ ì‹¤ì œ AMI í•„ìš”           | Packerë¡œ ì¬í˜„ ê°€ëŠ¥í•œ ë¹Œë“œ íŒŒì´í”„ë¼ì¸ êµ¬ì¶• | í…ŒìŠ¤íŠ¸ ì•ˆì •ì„± í™•ë³´     |
| ìˆ˜ë™ AMI ìƒì„±ìœ¼ë¡œ ì¸í•œ ë¶ˆì¼ì¹˜                          | ì½”ë“œë¡œ ì •ì˜ëœ ë¶ˆë³€ ì¸í”„ë¼                 | í™˜ê²½ ì¼ê´€ì„± ë³´ì¥       |

#### ì„±ëŠ¥ ë¹„êµ

| êµ¬ë¶„                   | ê¸°ë³¸ AMI | ì»¤ìŠ¤í…€ AMI | ê°œì„ ìœ¨   |
| ---------------------- | -------- | ---------- | -------- |
| Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ | 6ë¶„ 30ì´ˆ | 0ì´ˆ        | **100%** |
| Batch Job ì‹œì‘ ì‹œê°„    | 8ë¶„      | 1ë¶„ 30ì´ˆ   | **81%**  |
| Terratest ì‹¤í–‰ ì‹œê°„    | 45ë¶„     | 25ë¶„       | **44%**  |

**ë¹Œë“œ í”„ë¡œì„¸ìŠ¤:**

1. Amazon Linux 2 ECS GPU ìµœì í™” ì´ë¯¸ì§€ ì‚¬ìš©
2. IAM Instance Profileë¡œ ECR ì ‘ê·¼ ê¶Œí•œ ë¶€ì—¬
3. Docker ì´ë¯¸ì§€ ì‚¬ì „ ë‹¤ìš´ë¡œë“œ ë° ìºì‹±
4. AWS CLI v2 ì„¤ì¹˜
5. AMI ìƒì„± (ami-074d96b4a13784644)

---

## ì›Œí¬í”Œë¡œìš° ì•„í‚¤í…ì²˜

### ğŸ”„ ì „ì²´ CI/CD í”Œë¡œìš°

```mermaid
graph TB
    A[Developer Push/PR] --> B{Event Type}

    B -->|Pull Request| C[Terraform Security Scan]
    B -->|Pull Request| D[Terratest Validation]
    B -->|Manual Dispatch| E[Terratest Unit/Integration]

    C --> C1[Checkov Scan]
    C --> C2[tfsec Scan]
    C --> C3[Trivy Scan]

    C1 --> F{Security Check}
    C2 --> F
    C3 --> F

    F -->|Pass| G[Terraform Validate]
    F -->|Fail| H[Block PR Merge]

    D --> D1[Format Check]
    D --> D2[Syntax Validation]
    D --> D3[Plan Tests]

    D1 --> I{Validation Check}
    D2 --> I
    D3 --> I

    I -->|Pass| J[Comment PR Results]
    I -->|Fail| H

    E --> E1[Unit Tests - Network]
    E --> E2[Unit Tests - Storage]
    E --> E3[Unit Tests - Security]
    E --> E4[Integration Tests]

    E1 --> K[Create AWS Resources]
    E2 --> K
    E3 --> K
    E4 --> L[Deploy Full Stack]

    K --> M[Verify Resources]
    L --> M

    M --> N[Cleanup Resources]

    G --> O[Ready for Merge]
    J --> O
    N --> P[Test Report]
```

### ğŸ“Š ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤

#### Scenario 1: Pull Request (ìë™ ì‹¤í–‰)

```
1. ê°œë°œìê°€ terraform/ í´ë” ìˆ˜ì • í›„ PR ìƒì„±
2. terraform-security.yml íŠ¸ë¦¬ê±°
   - Checkov: 800+ ì •ì±… ê²€ì‚¬ (2ë¶„)
   - tfsec: Terraform ë³´ì•ˆ ìŠ¤ìº” (1ë¶„)
   - Trivy: IaC ì„¤ì • ìŠ¤ìº” (1ë¶„)
3. terratest.yml - validate job íŠ¸ë¦¬ê±°
   - Format check (30ì´ˆ)
   - Syntax validation (1ë¶„)
   - Network/Storage/Security Plan tests (3ë¶„)
4. ëª¨ë“  ê²€ì‚¬ í†µê³¼ ì‹œ PRì— âœ… ì½”ë©˜íŠ¸ ìë™ ì¶”ê°€
```

**ì†Œìš” ì‹œê°„**: ì•½ 5-6ë¶„ | **ë¹„ìš©**: $0

#### Scenario 2: Manual Unit Test

```
1. GitHub Actions í˜ì´ì§€ì—ì„œ ìˆ˜ë™ ì‹¤í–‰
2. test_type: unit ì„ íƒ
3. ëª¨ë“ˆë³„ ë¦¬ì†ŒìŠ¤ ìƒì„± ë° ê²€ì¦
4. terraform destroyë¡œ ìë™ ì •ë¦¬
```

**ì†Œìš” ì‹œê°„**: ì•½ 25ë¶„ | **ë¹„ìš©**: ~$0.50

#### Scenario 3: Full Integration Test

```
1. ë¦´ë¦¬ìŠ¤ ì „ ì „ì²´ ì¸í”„ë¼ í†µí•© í…ŒìŠ¤íŠ¸
2. test_type: integration ì„ íƒ
3. ì „ì²´ ìŠ¤íƒ ë°°í¬ ë° ê²€ì¦
4. Idempotency í…ŒìŠ¤íŠ¸
```

**ì†Œìš” ì‹œê°„**: ì•½ 45-60ë¶„ | **ë¹„ìš©**: ~$1-2

---

## ì‹¤í–‰ ê²°ê³¼

### ğŸ“¸ Screenshot 1: Terraform Validation

![Terraform Validation Result](../assets/github_actions/terraform_validation_result.png)

**ë¶„ì„:**

- âœ… **Terraform Format**: ëª¨ë“  íŒŒì¼ì´ `terraform fmt` ê·œì¹™ ì¤€ìˆ˜
- âœ… **Terraform Validate**: 23ê°œ íŒŒì¼ ë¬¸ë²• ê²€ì‚¬ í†µê³¼
- âœ… **Plan Tests**: Network/Storage/Security ëª¨ë“ˆ Plan ìƒì„± ì„±ê³µ
- â±ï¸ **ì†Œìš” ì‹œê°„**: 4ë¶„ 23ì´ˆ
- ğŸ’° **ë¹„ìš©**: $0

**ì˜ì˜**: PR ë‹¨ê³„ì—ì„œ ê¸°ë³¸ì ì¸ Terraform ì½”ë“œ í’ˆì§ˆì„ ë¬´ë£Œë¡œ ê²€ì¦í•˜ì—¬, ì˜ëª»ëœ ì½”ë“œê°€ ë©”ì¸ ë¸Œëœì¹˜ì— ë³‘í•©ë˜ëŠ” ê²ƒì„ ì‚¬ì „ ì°¨ë‹¨

---

### ğŸ“¸ Screenshot 2: Checkov Policy Scan

![Checkov Security Scan](../assets/github_actions/checkov.png)

**ë¶„ì„:**

- ğŸ” **ê²€ì‚¬ ëŒ€ìƒ**: terraform/ ë””ë ‰í† ë¦¬ ì „ì²´
- âœ… **Passed Checks**: 127ê°œ ì •ì±… í†µê³¼
- âš ï¸ **Warning**: 8ê°œ ê¶Œê³ ì‚¬í•­ (ì˜ˆ: CloudTrail ë¡œê¹… í™œì„±í™” ê¶Œì¥)
- âŒ **Failed Checks**: 3ê°œ ì°¨ë‹¨ ì´ìŠˆ
  - S3 ë²„í‚· versioning ë¯¸í™œì„±í™”
  - RDS ì¸ìŠ¤í„´ìŠ¤ ë°±ì—… retention ê¸°ê°„ ë¶€ì¡± (7ì¼ â†’ 30ì¼ ê¶Œì¥)
  - Security Groupì—ì„œ SSH í¬íŠ¸ ì „ì²´ ì˜¤í”ˆ (0.0.0.0/0)

**ì˜ì˜**: ì½”ë“œ ë¦¬ë·°ë¡œëŠ” ë°œê²¬í•˜ê¸° ì–´ë ¤ìš´ ë³´ì•ˆ ì„¤ì • ëˆ„ë½ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬, AWS ë³´ì•ˆ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì¤€ìˆ˜ ê°•ì œ

---

### ğŸ“¸ Screenshot 3: Terratest Validation

![Terratest Validation](../assets/github_actions/terratest_validation.png)

**ë¶„ì„:**

- ğŸ§ª **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: 6ê°œ
  - `TestTerraformFormatting`: âœ… PASS (12ì´ˆ)
  - `TestTerraformValidation`: âœ… PASS (48ì´ˆ)
  - `TestNetworkModulePlan`: âœ… PASS (1ë¶„ 23ì´ˆ)
  - `TestStorageModulePlan`: âœ… PASS (1ë¶„ 15ì´ˆ)
  - `TestSecurityModulePlan`: âœ… PASS (58ì´ˆ)
  - `TestPlanIdempotency`: âœ… PASS (2ë¶„ 10ì´ˆ)
- â±ï¸ **ì´ ì†Œìš” ì‹œê°„**: 6ë¶„ 46ì´ˆ
- ğŸ’° **ë¹„ìš©**: $0 (Planë§Œ ì‹¤í–‰, ë¦¬ì†ŒìŠ¤ ìƒì„± ì—†ìŒ)

**ì˜ì˜**:

1. Terraform ëª¨ë“ˆì´ ì‹¤ì œ AWS APIì™€ í˜¸í™˜ë˜ëŠ”ì§€ ê²€ì¦
2. ë³€ìˆ˜ ì „ë‹¬ì´ ì˜¬ë°”ë¥¸ì§€ ìë™ í™•ì¸
3. Idempotency ë³´ì¥ (ë™ì¼ ì½”ë“œ ì¬ì‹¤í–‰ ì‹œ ë³€ê²½ì‚¬í•­ ì—†ìŒ)

---

## ë¹„ìš© ìµœì í™”

### ğŸ’° í…ŒìŠ¤íŠ¸ ë¹„ìš© êµ¬ì¡°

| í•­ëª©                  | ì‹¤í–‰ ë¹ˆë„         | ë¦¬ì†ŒìŠ¤ ìƒì„±      | ë¹„ìš©  | ì—°ê°„ ëˆ„ì   |
| --------------------- | ----------------- | ---------------- | ----- | ---------- |
| **Validation Tests**  | PRë§ˆë‹¤ (~50íšŒ/ì›”) | âŒ               | $0    | $0         |
| **Unit Tests**        | ìˆ˜ë™ (~4íšŒ/ì›”)    | âœ… ëª¨ë“ˆë³„        | $0.50 | $24        |
| **Integration Tests** | ìˆ˜ë™ (~2íšŒ/ì›”)    | âœ… ì „ì²´ ìŠ¤íƒ     | $1.50 | $36        |
| **Packer AMI ë¹Œë“œ**   | í•„ìš”ì‹œ (~2íšŒ/ì›”)  | âœ… EC2 g5.xlarge | $0.30 | $7.20      |
| **ì´ê³„**              | -                 | -                | -     | **$67.20** |

### ğŸ“Š ë¹„ìš© ì ˆê° ì „ëµ

#### 1. Validation ìš°ì„  ì „ëµ

- PR ì‹œ: ë¬´ë£Œ Validationë§Œ ì‹¤í–‰ (ë¦¬ì†ŒìŠ¤ ìƒì„± ì—†ìŒ)
- ìˆ˜ë™ íŠ¸ë¦¬ê±°: í•„ìš”ì‹œì—ë§Œ Unit/Integration ì‹¤í–‰
- **íš¨ê³¼**: GitHub Actions ë¬´ë£Œ tier(ì›” 2000ë¶„) ë²”ìœ„ ë‚´ì—ì„œ ëŒ€ë¶€ë¶„ ì»¤ë²„

#### 2. ë¦¬ì†ŒìŠ¤ ìë™ ì •ë¦¬

```go
// Terratestì—ì„œ deferë¡œ ë¬´ì¡°ê±´ ë¦¬ì†ŒìŠ¤ ì‚­ì œ
defer terraform.Destroy(t, terraformOptions)
```

**íš¨ê³¼**: í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œì—ë„ ë¦¬ì†ŒìŠ¤ê°€ ë‚¨ì§€ ì•Šì•„ ë¶ˆí•„ìš”í•œ ê³¼ê¸ˆ ë°©ì§€

#### 3. í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ ì„¤ì •

```go
go test -v -run TestNetworkModule -timeout 30m
```

**íš¨ê³¼**: ë¬´í•œ ëŒ€ê¸°ë¡œ ì¸í•œ ë¹„ìš© í­ì¦ ë°©ì§€

---

## ì„±ê³¼ ë° ê²°ë¡ 

### ğŸ“Š ì •ëŸ‰ì  ì„±ê³¼

| ì§€í‘œ                       | ê°œì„  ì „        | ê°œì„  í›„       | ê°œì„ ìœ¨           |
| -------------------------- | -------------- | ------------- | ---------------- |
| **ë³´ì•ˆ ê²€ì¦ ì‹œê°„**         | ìˆ˜ë™ ë¦¬ë·° 30ë¶„ | ìë™ ìŠ¤ìº” 4ë¶„ | **87% ë‹¨ì¶•**     |
| **ì¸í”„ë¼ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** | 0%             | 85%           | **+85%p**        |
| **AMI ë¹Œë“œ ìë™í™”**        | ìˆ˜ë™ 1ì‹œê°„     | Packer 35ë¶„   | **42% ë‹¨ì¶•**     |
| **Batch Job ì‹œì‘ ì‹œê°„**    | 8ë¶„            | 1.5ë¶„         | **81% ë‹¨ì¶•**     |
| **ì—°ê°„ í…ŒìŠ¤íŠ¸ ë¹„ìš©**       | -              | $67.20        | **ì˜ˆì‚° ë²”ìœ„ ë‚´** |

### ğŸ¯ ì •ì„±ì  ì„±ê³¼

1. **ë³´ì•ˆ Shift-Left**: ì½”ë“œ ì‘ì„± ë‹¨ê³„ì—ì„œ ë³´ì•ˆ ì·¨ì•½ì  ì¡°ê¸° ë°œê²¬
2. **ì»´í”Œë¼ì´ì–¸ìŠ¤ ìë™í™”**: CIS Benchmark 800+ ì •ì±… ìë™ ê²€ì¦
3. **ì¸í”„ë¼ í’ˆì§ˆ ë³´ì¦**: Terratestë¥¼ í†µí•œ ì‹¤ì œ AWS ë¦¬ì†ŒìŠ¤ ê²€ì¦
4. **ì¬í˜„ ê°€ëŠ¥ì„±**: Packer ì½”ë“œ ê¸°ë°˜ ë¶ˆë³€ ì¸í”„ë¼ êµ¬í˜„
5. **ë¹„ìš© íš¨ìœ¨ì„±**: ë¬´ë£Œ Validationê³¼ ìœ ë£Œ Testing ì „ëµì  ë¶„ë¦¬

### ğŸ’­ íšŒê³ 

#### Keep (ê³„ì† ìœ ì§€í•  ê²ƒ)

- âœ… PRë§ˆë‹¤ ë¬´ë£Œ Validation ìë™ ì‹¤í–‰
- âœ… 3-Tier Testing ì „ëµ (Validation â†’ Unit â†’ Integration)
- âœ… Packer AMI ì‚¬ì „ ë¹Œë“œë¡œ Batch ì„±ëŠ¥ í–¥ìƒ

#### Problem (ê°œì„  í•„ìš”)

- âš ï¸ Integration Test ì‹¤í–‰ ì‹œê°„ (45ë¶„) - ë³‘ë ¬í™” í•„ìš”
- âš ï¸ Checkov False Positive - Custom Policyë¡œ ì •ì œ í•„ìš”
- âš ï¸ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë””ë²„ê¹… ì–´ë ¤ì›€ - ë¡œê·¸ ìˆ˜ì§‘ ê°œì„  í•„ìš”

#### Try (ì‹œë„í•´ë³¼ ê²ƒ)

- ğŸ”„ Daily Drift Detection (ì¸í”„ë¼ ë“œë¦¬í”„íŠ¸ ìë™ ê°ì§€)
- ğŸ”„ Cost Estimation (Terraform ë³€ê²½ ì‹œ ì˜ˆìƒ ë¹„ìš© ê³„ì‚°)
- ğŸ”„ Slack ì•Œë¦¼ í†µí•© (í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì•Œë¦¼)

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [Policy as Code ìƒì„¸ êµ¬í˜„](./POLICY_AS_CODE_DETAILS.md)
- [Terratest ì¸í”„ë¼ í…ŒìŠ¤íŒ… ìƒì„¸](./TERRATEST_DETAILS.md)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ](./TROUBLESHOOTING_GUIDE.md)

---

**ìµœì¢… ìˆ˜ì •ì¼**: 2026ë…„ 2ì›” 6ì¼  
**ë¬¸ì„œ ë²„ì „**: 1.0

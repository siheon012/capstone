# Development environment template for memi_docker
# Copy this file to .env.dev and fill actual secret values (do NOT commit real secrets)

# App / runtime
APP_ENV=dev
COMPOSE_PROJECT_NAME=capstone-dev
BACKEND_PORT=8000
FRONTEND_PORT=3000
DB_PORT=5432

# Database (either DATABASE_URL or individual vars)
# Recommended: set DATABASE_URL=postgres://user:pass@host:5432/dbname
DATABASE_URL=
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=capstone_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme

# Backend / event callback
DB_EVENTS_URL=http://be:8088/db/events
BE_AUTH_TOKEN=

# Video mounts (host <-> container)
HOST_VIDEO_MOUNT=/mnt/data/videos
CONTAINER_VIDEO_MOUNT=/app/videos

# Model / checkpoints (container internal paths)
 VLM_PATH=/app/checkpoints/llava-fastvithd_0.5b_stage2
 MIVOLO_CHECKPOINT=/app/models/model_imdb_cross_person_4.24_99.46.pth.tar
 DETECTOR_WEIGHTS=/app/models/yolov8x_person_face.pt
MEBOW_CFG=/app/config/mebow.yaml

# Runtime
CUDA_VISIBLE_DEVICES=0
LOG_LEVEL=INFO
OUTPUT_DIR=/app/output

# AWS (optional)
AWS_DEFAULT_REGION=ap-northeast-2
AWS_S3_BUCKET_NAME=your-dev-video-bucket-name
S3_BUCKET_RAW=capstone-dev-raw
S3_BUCKET_THUMBNAILS=capstone-dev-thumbnails
AWS_BEDROCK_REGION=us-east-1
AWS_BEDROCK_VLM_MODEL=anthropic.claude-3-sonnet-20240229-v1:0
AWS_BEDROCK_EMBEDDING_MODEL=amazon.titan-embed-text-v2:0
# Other timeouts/retries
DB_EVENTS_TIMEOUT=15
DB_EVENTS_RETRY_COUNT=3
